var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,c){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,c||0)}},"es6-impl","es3");
function encode_(a,b){var c=new XMLHttpRequest;c.open("POST","https://us-central1-wcode-0.cloudfunctions.net/encode",!0);c.setRequestHeader("Content-type","application/json");c.setRequestHeader("version",1);c.onreadystatechange=function(){4==c.readyState&&200==c.status&&setCodeWords(c.responseText)};c.send(stringifyEncodeData(a,b));return""}
function setCodeWords(a){var b="Bangalore ";a=JSON.parse(a).code;a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next()){i=c.value;if(0>i||1023<i){alert("This is a POC demo. For now, please select a place in Bangalore India.");focus_({lat:12.978328666666666,lng:77.59628655555555});decode(["Bangalore","hand","athens","bone"]);return}b=b+" "+wordList[i]}setInfoWindowText(b)}function stringifyEncodeData(a,b){var c={};c.city_begin=a;c.position=b;return JSON.stringify(c)}
function decode_(a,b){var c=new XMLHttpRequest;c.open("POST","https://us-central1-wcode-0.cloudfunctions.net/decode",!0);c.setRequestHeader("Content-type","application/json");c.setRequestHeader("version",1);c.onreadystatechange=function(){4==c.readyState&&200==c.status&&setCodeCoord(c.responseText,b)};var d=[];d[0]=wordList.indexOf(b[0]);d[1]=wordList.indexOf(b[1]);d[2]=wordList.indexOf(b[2]);c.send(stringifyDecodeData(a,d));lat=a.lat;lng=a.lng;return{lat:lat,lng:lng}}
function stringifyDecodeData(a,b){var c={};c.city_begin=a;c.code=b;return JSON.stringify(c)}function setCodeCoord(a,b){var c=JSON.parse(a);focus__(c,"Bangalore "+b.join(" "))}function getCityFromLocation(a){return BANGALORE}function getCityFromName(a){return BANGALORE}function encode(a){var b=getCityFromLocation(a);a=encode_(b.begin,a);return b.name+" "+a}function decode(a){var b=getCityFromName(a[0]);return decode_(b.begin,a.splice(1,a.length-1))}
var CHENNAI={begin:{lat:12.831878,lng:80.062018},name:"Chennai"},BANGALORE={begin:{lat:12.851662,lng:77.430731},name:"Bangalore"},map,marker,infoWindow,accuCircle,myLocDot;
function initMap(){map=new google.maps.Map(document.getElementById("map"),{center:{lat:-34.397,lng:150.644},mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.BOTTOM_CENTER},zoom:8});infoWindow=new google.maps.InfoWindow({map:map});locate();var a=document.getElementById("pac-input"),b=new google.maps.places.SearchBox(a);map.controls[google.maps.ControlPosition.TOP_LEFT].push(a);map.addListener("bounds_changed",function(){b.setBounds(map.getBounds())});
var c=[];b.addListener("places_changed",function(){var a=b.getPlaces();if(0!=a.length){c.forEach(function(a){a.setMap(null)});c=[];var e=new google.maps.LatLngBounds;a.forEach(function(a){if(a.geometry){var b={url:a.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)};c.push(new google.maps.Marker({map:map,icon:b,title:a.name,position:a.geometry.location}));a.geometry.viewport?e.union(a.geometry.viewport):
e.extend(a.geometry.location)}else console.log("Returned place contains no geometry")});map.fitBounds(e)}});map.addListener("click",function(a){encode(a.latLng);focus_(a.latLng)});location_button.addEventListener("click",function(){locate()});decode_button.addEventListener("click",function(){var a=!1,b=document.getElementById("pac-input").value.trim().toLowerCase().split(" ");if(4==b.length&&"bangalore"==b[0])for(i=1;i<b.length;i++)if(1==wordList.includes(b[i]))a=!0;else{a=!1;break}a?decode(b):alert('Incorrect input. Should be 4 words beginning with Bangalore which is followed by 3 WCodes. E.g: "Bangalore cat apple tomato"')})}
function focus__(a,b){focus_(a);setInfoWindowText(b)}function focus_(a,b){map.setCenter(a);"undefined"===typeof marker?marker=new google.maps.Marker({position:a,map:map,title:"Hello World!"}):marker.setPosition(a);"undefined"!==typeof b?map.fitBounds(b):accuCircle.setOptions({fillOpacity:.1});infoWindow.setContent("(loading..)");infoWindow.open(map,marker)}
function locate(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(a){var b={lat:a.coords.latitude,lng:a.coords.longitude};"undefined"===typeof accuCircle?accuCircle=new google.maps.Circle({strokeColor:"#69B7CF",strokeOpacity:0,strokeWeight:0,fillColor:"#69B7CF",fillOpacity:.35,map:map,center:b,radius:a.coords.accuracy,clickable:!1}):(accuCircle.setFillOpacity(.35),accuCircle.setCenter(b),accuCircle.setRadius(a.coords.accuracy));focus_(b,accuCircle.getBounds());"undefined"===
typeof myLocDot?myLocDot=new google.maps.Marker({clickable:!1,icon:new google.maps.MarkerImage("https://maps.gstatic.com/mapfiles/mobile/mobileimgs2.png",new google.maps.Size(22,22),new google.maps.Point(0,18),new google.maps.Point(11,11)),shadow:null,zIndex:999,map:map,position:b}):myLocDot.setPosition(b);encode(b)},function(){handleLocationError(!0,infoWindow,map.getCenter())}):handleLocationError(!1,infoWindow,map.getCenter())}
function handleLocationError(a,b,c){b.setPosition(c);b.setContent(a?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation.")}function setInfoWindowText(a){infoWindow.setContent("\\ "+a+" /")}var wordList="abacus actor afghanistan africa air alarm algeria almond aluminium ambulance america anchor angle angola animal ankara antarctica ant antenna apparatus apparel apple appliance apricot arabia arch argentina arm army arrow art asia asteroid athens atom aunt aurora australia austria autumn axe axle back bacteria badge baghdad bag bait bake ball balloon bamboo banana bangladesh bangle bank base basin basket bat bath battery beach bead beam bean bear beast bed bee beetle beijing belarus belgium bell belt bench berlin bern bhutan bicycle bike bill bingo bird birth biscuit black blade blanket blizzard blood blow blue board boat body bolivia bone book boot border bottle bottom boundary bow box boy brain brake branch brass brazil bread breath brick bridge broccoli broom brother brush bubble bucket buffalo building bulb bulgaria bull bullet bun burma bus bush butter button cabbage cable cactus cage cairo cake calculator calendar cambodia camel camera cameroon camp canada canal canberra cancer candle candy cannon canvas cap card care carriage carrot car cart cashew castle cast cat cave ceiling cell cellar cement cemetery cent century chain chair chalk channel cheek cheese cheetah cherry chess chest chicken children chilli chimpanzee china chin chocolate circle circus city clam class claw clay cliff climate cloth cloud clover clown club coach coal coast coat cobra cockroach cocoa coffee coil collar colombia color comb company compass computer concrete congo continent cookie cook copper cord cork corn cotton cough country cover cow crab crane crate crayon cream creature credit cricket crime crocodile crook crow crown cuba cube cucumber cup current curtain curve daffodil dahlia damascus dawn death decade deer degree desert desk dhaka diamond dice diesel dime dinosaur dirt distance doctor dodo doll dollar dolphin donkey door doughnut dove dragon drain drawer dress drill drink drop drum duck dusk dust eagle earth ear east eclipse edge egg egypt elbow electron elephant ellipse engine england equation equator eraser ethiopia europe eye face factory fact fall fang fan farmer farm father fat faucet fax feast feather feet fence fever field finger fire fish flag flame flesh floor flower flute fog food foot forest fork formula fountain fox frame france frock frog front fruit fuel fungi fur furniture galaxy game garden garlic gate gecko gem germany ghana giant giraffe girl glass glove glue goat gold goose gorilla governor grade grain grape graph grass gravity greece green grip ground group guatemala guava guide guitar gulf gun hair haiti hall hammer hand hanoi harare harbour harmonica harpoon hat havana head heart helicopter helium helmet hill hip hockey hole home honduras honey hook hope horn horse hose hospital hour house humour hungary hydrogen idea impulse income increase india indonesia ink insect instrument insurance interest invention iran iraq iridium iron island israel italy jackal jacket jail jakarta jam japan jar jeans jeep jelly jerusalem jewel join joke journey judge jupiter kabul kangaroo kathmandu kazakhstan kenya kettle key kick kidney king kite kitten kiwi knee knife knowledge korea kuwait lace ladder lahore lake lamp land language lasso lawn lawyer lead leaf leather left leg lemon leopard letter lettuce level library lift light lily line linen lion lip liquid lisbon liver lizard lock locket logo london look loss lotus love low luanda lumber lunch lung machine madagascar madrid magic magnet mail malaysia mammoth manager mango manila man map marble market mars mask mass mat matrix matter meat memory mercury metal meteor mexico milk millennium mind mine minister minute mirror mist money monkey monk month moon morning morocco moscow mosquito mother motion motor mountain mouse mouth mozambique muffin mug muscle mushroom music nail nairobi name nation nebula neck needle nepal neptune nerve nest netherlands net neutron news nigeria night noise north nose note number nurse nut oak oat ocean octopus office oil onion orange orbit orchid ornament ostrich ottawa oven owl oxygen oyster page pakistan panda panther pant pan papaya parcel parent paris park parrot patch peace pearl pear pen pencil penguin pepper perfume person peru pest petrol pet philippines photon piano pickle picture pie pigeon pillar pill pillow pine pin pipe pizza place plane planet plan plasma plastic plate platinum play pleasure plot plough pluto plutonium pocket point poison poland pole police pollution polo pond porter portugal port position potato pot powder power price printer print prison profit proton pulsar pump punch pyramid quartz queen question quicksand quiet quilt quince quiver rabbit radio radish rain rake range rat ray receipt rectangle red rhino rice rifle right rim ring river road robin rock rocket rod romania rome roof room root rope rose route rub rule run russia rust rwanda sack saddle sail salt sand satellite saturn sauce scale scarf scene scent school science scissor screw sea second seed shade shake shampoo shark sheep sheet shelf shell ship shirt shoe shop shoulder shout shovel shower sign silicon silk silver singapore sink sister skate skeleton skin sky sleep sleet slip slope sloth smell smile smoke snail snake snow soap soccer society sock soda sofa soil soldier somalia son song sound soup south space spade spain spark speaker spear sphere spider sponge spoon spot spring spy square squid squirrel stage stamp star statement station steam steel stem step stew stick stitch stockholm stomach stone storm story stove straw street string sudan sugar suit summer sun sushi swan sweater sweden swing switzerland sword syria syringe system table tail taipei taiwan tank tanzania tap tape tattoo teacher tea tehran telephone telescope tent thailand theory thief thigh thimphu thing thorn thought thread throat thumb thunder ticket tide tie tile tilt time timer tin titanium toast toe tokyo tomato tomb tongue tool tooth top tornado tortoise toss touch towel tower town toy train tree tremor triangle trip trophy trouser truck trunk tsunami tub tube tulip tuna tunisia tunnel turkey turnip twig twist tyre uganda ukraine umbrella uncle unit universe uranium uranus uzbekistan van vanilla vase vegetable veil vein venezuela venom venus verse vessel vest vietnam village violin virus vitamin voice volcano vulture waffle wall wallet walrus war washington watch water wave wax weapon weather web weight west whale wheat wheel whip whistle white window wind wing winter wire woman wonder wood wool wound wrench wrist yak yard yarn year yellow yemen yogurt zambia zebra zimbabwe zinc zoo".split(" ");
